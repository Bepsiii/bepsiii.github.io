<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>In Loving Memory of AGW Drug Wars</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Special+Elite&display=swap" rel="stylesheet">
    <style>
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes flicker {
            0%, 18%, 22%, 25%, 53%, 57%, 100% {
                text-shadow:
                0 0 4px #fff,
                0 0 11px #fff,
                0 0 19px #fff,
                0 0 40px #0ff,
                0 0 80px #0ff,
                0 0 90px #0ff,
                0 0 100px #0ff,
                0 0 150px #0ff;
            }
            20%, 24%, 55% {        
                text-shadow: none;
            }
        }

        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        body {
            font-family: 'Special Elite', monospace;
            background-color: #000000;
            color: #cccccc;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .rain-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .raindrop {
            position: absolute;
            bottom: 100%;
            width: 1px;
            height: 50px;
            background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0.4));
            animation: fall linear infinite;
        }
        
        @keyframes fall {
            to {
                transform: translateY(100vh);
            }
        }

        .memorial-container {
            position: relative;
            z-index: 2;
            padding: 20px;
            animation: fadeIn 5s ease-in;
        }

        h1 {
            font-size: 3rem;
            color: #ffffff;
            margin: 0;
            text-shadow: 0 0 10px rgba(255,255,255,0.5);
        }

        h2 {
            font-size: 1.5rem;
            color: #aaaaaa;
            margin: 10px 0;
        }

        p {
            font-size: 1.2rem;
            color: #dddddd;
            max-width: 600px;
            margin: 40px auto;
            line-height: 1.6;
            animation: flicker 5s infinite alternate;
        }
        
        #mute-button {
            position: fixed; 
            bottom: 20px; 
            right: 20px; 
            background: #222; 
            color: #fff; 
            font-size: 1rem;
            padding: 10px 15px; 
            border: 1px solid #fff; 
            z-index: 10000; 
            cursor: pointer; 
            font-family: 'Special Elite', monospace;
            opacity: 0.7;
        }

    </style>
</head>
<body>

    <div class="rain-container" id="rain-container"></div>

    <div class="memorial-container">
        <h1>In Loving Memory of<br>AGW Drug Wars</h1>
        <h2>2023 - 2025</h2>
        <p>because ismaels yeeyee ass, fat ass was too lazy to ask claude for code</p>
    </div>

    <button id="mute-button">MUTED</button>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            
            // --- RAIN EFFECT ---
            const rainContainer = document.getElementById('rain-container');
            function createRain() {
                for (let i = 0; i < 100; i++) {
                    const drop = document.createElement('div');
                    drop.className = 'raindrop';
                    drop.style.left = Math.random() * 100 + 'vw';
                    drop.style.animationDuration = (Math.random() * 0.5 + 0.5) + 's'; // 0.5s to 1s
                    drop.style.animationDelay = Math.random() * 5 + 's';
                    rainContainer.appendChild(drop);
                }
            }
            createRain();

            // --- SAD PIANO MUSIC ---
            const muteButton = document.getElementById('mute-button');
            let synth, loop, isMuted = true;
            const notes = ["A3", null, "E4", "D4", null, "C4", "E3", null];
            let noteIndex = 0;

            function playMusic() {
                if (Tone.context.state !== 'running') { Tone.context.resume(); }
                
                const reverb = new Tone.Reverb(5).toDestination();
                synth = new Tone.Synth({
                    // Volume is in decibels. Negative values are quieter.
                    volume: -12,
                    oscillator: { type: 'sine' },
                    envelope: { attack: 0.1, decay: 0.5, sustain: 0.1, release: 2 }
                }).connect(reverb);

                loop = new Tone.Loop(time => {
                    const note = notes[noteIndex % notes.length];
                    if (note) {
                        synth.triggerAttackRelease(note, "1n", time);
                    }
                    noteIndex++;
                }, "2n").start(0);

                Tone.Transport.bpm.value = 60;
                Tone.Transport.start();
                isMuted = false;
                muteButton.textContent = "MUTE";
                muteButton.style.background = '#111';
            }
            
            function stopMusic() {
                if (loop) {
                    Tone.Transport.stop();
                    Tone.Transport.cancel();
                    if(loop) loop.dispose();
                    if(synth) synth.dispose();
                }
                isMuted = true;
                muteButton.textContent = "MUTED";
                muteButton.style.background = '#222';
            }

            stopMusic(); // Start muted

            document.body.addEventListener('click', () => {
                if (isMuted && Tone.context.state !== 'running') {
                    playMusic();
                }
            }, { once: true });

            muteButton.addEventListener('click', (e) => {
                e.stopPropagation();
                if (isMuted) { playMusic(); } else { stopMusic(); }
            });
        });
    </script>

</body>
</html>
